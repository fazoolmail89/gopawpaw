<?xml version="1.0" encoding="UTF-8"?>
<report xmlns="http://www.eclipse.org/birt/2005/design" version="3.2.21" id="1">
    <property name="createdBy">Eclipse BIRT Designer Version 2.5.2.v20100208 Build &lt;2.5.2.v20100210-0630></property>
    <property name="units">in</property>
    <method name="initialize"><![CDATA[var part_count = 0;]]></method>
    <property name="iconFile">/templates/blank_report.gif</property>
    <property name="bidiLayoutOrientation">ltr</property>
    <property name="imageDPI">96</property>
    <parameters>
        <scalar-parameter name="domain" id="50">
            <text-property name="promptText">域</text-property>
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">keer</value>
            </simple-property-list>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="prod_line" id="51">
            <text-property name="promptText">产品线</text-property>
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">3000</value>
            </simple-property-list>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="prod_line2" id="52">
            <text-property name="promptText">产品线</text-property>
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">3000</value>
            </simple-property-list>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="part_type" id="53">
            <text-property name="promptText">物料类</text-property>
            <property name="valueType">dynamic</property>
            <property name="dataSetName">code_mstr</property>
            <expression name="valueExpr" type="javascript">dataSetRow["code_value"]</expression>
            <expression name="labelExpr" type="javascript">dataSetRow["code_cmmt"]</expression>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">107按钮</value>
            </simple-property-list>
            <property name="paramType">simple</property>
            <property name="controlType">list-box</property>
            <property name="mustMatch">true</property>
            <property name="fixedOrder">true</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="part_type2" id="54">
            <text-property name="promptText">物料类</text-property>
            <property name="valueType">dynamic</property>
            <property name="dataSetName">code_mstr</property>
            <expression name="valueExpr" type="javascript">dataSetRow["code_value"]</expression>
            <expression name="labelExpr" type="javascript">dataSetRow["code_cmmt"]</expression>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">107按钮</value>
            </simple-property-list>
            <property name="paramType">simple</property>
            <property name="controlType">list-box</property>
            <property name="mustMatch">true</property>
            <property name="fixedOrder">true</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="tr_effdate" id="55">
            <text-property name="promptText">生效日期</text-property>
            <property name="valueType">static</property>
            <property name="dataType">date</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">2010-01</value>
            </simple-property-list>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="tr_effdate2" id="56">
            <text-property name="promptText">生效日期</text-property>
            <property name="valueType">static</property>
            <property name="dataType">date</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">2010-02-01</value>
            </simple-property-list>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
    </parameters>
    <data-sources>
        <oda-data-source extensionID="org.eclipse.birt.report.data.oda.jdbc" name="mfgprod" id="43">
            <list-property name="privateDriverProperties">
                <ex-property>
                    <name>contentBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
                <ex-property>
                    <name>metadataBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
            </list-property>
            <property name="odaDriverClass">com.microsoft.jdbc.sqlserver.SQLServerDriver</property>
            <property name="odaURL">jdbc:microsoft:sqlserver://localhost:1433;databaseName=keer_qaddb2</property>
            <property name="odaUser">sa</property>
            <encrypted-property name="odaPassword" encryptionID="base64">eHh4eHh4eA==</encrypted-property>
        </oda-data-source>
    </data-sources>
    <data-sets>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="code_mstr" id="44">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">code_fldname</property>
                    <text-property name="displayName">code_fldname</text-property>
                </structure>
                <structure>
                    <property name="columnName">code_value</property>
                    <text-property name="displayName">code_value</text-property>
                </structure>
                <structure>
                    <property name="columnName">code_cmmt</property>
                    <text-property name="displayName">code_cmmt</text-property>
                </structure>
            </list-property>
            <list-property name="parameters">
                <structure>
                    <property name="name">param_domain</property>
                    <property name="paramName">domain</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <expression name="defaultValue" type="javascript">'keer'</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">code_fldname</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">code_value</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">code_cmmt</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">mfgprod</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">code_fldname</property>
                    <property name="nativeName">code_fldname</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">code_value</property>
                    <property name="nativeName">code_value</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">code_cmmt</property>
                    <property name="nativeName">code_cmmt</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[select code_fldname,code_value,code_cmmt from code_mstr
where code_fldname='pt_part_type'
and code_domain=?]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="part_inv" id="45">
            <list-property name="parameters">
                <structure>
                    <property name="name">param_tr_part</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <expression name="defaultValue" type="javascript">'24514600'</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_tr_effdate</property>
                    <property name="paramName">tr_effdate</property>
                    <property name="dataType">date</property>
                    <property name="position">2</property>
                    <expression name="defaultValue" type="javascript">'2010-01-01'</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">tr_part</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">tr_serial</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">tr_qty_chg</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">tr_price</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">jine</property>
                        <property name="dataType">decimal</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">mfgprod</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">tr_part</property>
                    <property name="nativeName">tr_part</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">tr_serial</property>
                    <property name="nativeName">tr_serial</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">tr_qty_chg</property>
                    <property name="nativeName">tr_qty_chg</property>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">tr_price</property>
                    <property name="nativeName">tr_price</property>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">jine</property>
                    <property name="nativeName">jine</property>
                    <property name="dataType">decimal</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[select gppw.tr_part as tr_part,gppw.tr_serial as tr_serial,gppw.tr_qty_chg as tr_qty_chg , gppx.tr_price as tr_price,(gppw.tr_qty_chg * gppx.tr_price) as jine from(
	select gppf.tr_part as tr_part , gppf.tr_serial as tr_serial , (gppf.tr_qty_chg + gppg.tr_loc_begin) as tr_qty_chg from (
		select tr_part,tr_serial,sum(tr_qty_chg) as tr_qty_chg from (
			select * from tr_hist where tr_qty_chg<>0 and tr_part=? and tr_effdate<=?
		) as bec group by tr_part,tr_serial
	) as gppf
	left join
	(	
		select gppi.tr_part,gppi.tr_serial,gppi.tr_effdate,gppi.tr_trnbr,gppj.tr_loc_begin from(
			select gpph.tr_part as tr_part,gpph.tr_serial as tr_serial,gpph.tr_effdate as tr_effdate,min(gpph.tr_trnbr) as tr_trnbr from (
				select tt.tr_part ,tt.tr_serial,tt.tr_effdate,ty.tr_trnbr from (
					select tr_part,tr_serial,min(tr_effdate) as tr_effdate from tr_hist group by tr_part,tr_serial
				) as tt inner join 
				tr_hist 
				 as ty on tt.tr_part = ty.tr_part and tt.tr_serial = ty.tr_serial and tt.tr_effdate = ty.tr_effdate
			) as gpph group by gpph.tr_part,gpph.tr_serial,gpph.tr_effdate
		) as gppi inner join
		tr_hist
		as gppj on gppi.tr_part = gppj.tr_part and gppi.tr_serial = gppj.tr_serial and gppi.tr_trnbr = gppj.tr_trnbr
		and gppj.tr_type in ('RCT-PO','RCT-UNP')
	) as gppg
	on 
	gppf.tr_part = gppg.tr_part and gppf.tr_serial = gppg.tr_serial
) as gppw 
left join
(
	select gppu.tr_part,gppu.tr_serial,gppv.tr_price from(
		select tr_part,tr_serial,min(tr_trnbr) as tr_trnbr from (
			select tr_part,tr_serial,tr_trnbr  from tr_hist where tr_qty_chg<>0 and tr_type in ('RCT-PO','RCT-UNP') --and tr_part='1200LDCT4R16' -- and tr_effdate<='2010-01-01 00:00:00'
		) as bec group by tr_part,tr_serial
	) as gppu
	left join
	tr_hist as gppv
	on gppu.tr_trnbr = gppv.tr_trnbr
) as gppx 
on gppw.tr_part = gppx.tr_part and gppw.tr_serial = gppx.tr_serial  
where gppw.tr_qty_chg<>0
order by gppw.tr_part,gppw.tr_serial]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="part_inv2" id="46">
            <list-property name="parameters">
                <structure>
                    <property name="name">param_tr_part</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <expression name="defaultValue" type="javascript">'24514600'</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_tr_effdate</property>
                    <property name="paramName">tr_effdate2</property>
                    <property name="dataType">date</property>
                    <property name="position">2</property>
                    <expression name="defaultValue" type="javascript">'2010-01-01'</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">tr_part</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">tr_serial</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">tr_qty_chg</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">tr_price</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">jine</property>
                        <property name="dataType">decimal</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">mfgprod</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">tr_part</property>
                    <property name="nativeName">tr_part</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">tr_serial</property>
                    <property name="nativeName">tr_serial</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">tr_qty_chg</property>
                    <property name="nativeName">tr_qty_chg</property>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">tr_price</property>
                    <property name="nativeName">tr_price</property>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">jine</property>
                    <property name="nativeName">jine</property>
                    <property name="dataType">decimal</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[select gppw.tr_part as tr_part,gppw.tr_serial as tr_serial,gppw.tr_qty_chg as tr_qty_chg , gppx.tr_price as tr_price,(gppw.tr_qty_chg * gppx.tr_price) as jine from(
	select gppf.tr_part as tr_part , gppf.tr_serial as tr_serial , (gppf.tr_qty_chg + gppg.tr_loc_begin) as tr_qty_chg from (
		select tr_part,tr_serial,sum(tr_qty_chg) as tr_qty_chg from (
			select * from tr_hist where tr_qty_chg<>0 and tr_part=? and tr_effdate<=?
		) as bec group by tr_part,tr_serial
	) as gppf
	left join
	(	
		select gppi.tr_part,gppi.tr_serial,gppi.tr_effdate,gppi.tr_trnbr,gppj.tr_loc_begin from(
			select gpph.tr_part as tr_part,gpph.tr_serial as tr_serial,gpph.tr_effdate as tr_effdate,min(gpph.tr_trnbr) as tr_trnbr from (
				select tt.tr_part ,tt.tr_serial,tt.tr_effdate,ty.tr_trnbr from (
					select tr_part,tr_serial,min(tr_effdate) as tr_effdate from tr_hist group by tr_part,tr_serial
				) as tt inner join 
				tr_hist 
				 as ty on tt.tr_part = ty.tr_part and tt.tr_serial = ty.tr_serial and tt.tr_effdate = ty.tr_effdate
			) as gpph group by gpph.tr_part,gpph.tr_serial,gpph.tr_effdate
		) as gppi inner join
		tr_hist
		as gppj on gppi.tr_part = gppj.tr_part and gppi.tr_serial = gppj.tr_serial and gppi.tr_trnbr = gppj.tr_trnbr
		and gppj.tr_type in ('RCT-PO','RCT-UNP')
	) as gppg
	on 
	gppf.tr_part = gppg.tr_part and gppf.tr_serial = gppg.tr_serial
) as gppw 
left join
(
	select gppu.tr_part,gppu.tr_serial,gppv.tr_price from(
		select tr_part,tr_serial,min(tr_trnbr) as tr_trnbr from (
			select tr_part,tr_serial,tr_trnbr  from tr_hist where tr_qty_chg<>0 and tr_type in ('RCT-PO','RCT-UNP') --and tr_part='1200LDCT4R16' -- and tr_effdate<='2010-01-01 00:00:00'
		) as bec group by tr_part,tr_serial
	) as gppu
	left join
	tr_hist as gppv
	on gppu.tr_trnbr = gppv.tr_trnbr
) as gppx 
on gppw.tr_part = gppx.tr_part and gppw.tr_serial = gppx.tr_serial  
where gppw.tr_qty_chg<>0
order by gppw.tr_part,gppw.tr_serial]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="part_inv_in" id="47">
            <list-property name="parameters">
                <structure>
                    <property name="name">param_tr_part</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <expression name="defaultValue" type="javascript">'24514600'</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_tr_effdate</property>
                    <property name="paramName">tr_effdate</property>
                    <property name="dataType">date</property>
                    <property name="position">2</property>
                    <expression name="defaultValue" type="javascript">'2008-01-01'</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_tr_effdate2</property>
                    <property name="paramName">tr_effdate2</property>
                    <property name="dataType">date</property>
                    <property name="position">3</property>
                    <expression name="defaultValue" type="javascript">'2010-12-31'</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">tr_part</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">tr_serial</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">tr_qty_chg</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">tr_price</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">jine</property>
                        <property name="dataType">decimal</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">mfgprod</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">tr_part</property>
                    <property name="nativeName">tr_part</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">tr_serial</property>
                    <property name="nativeName">tr_serial</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">tr_qty_chg</property>
                    <property name="nativeName">tr_qty_chg</property>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">tr_price</property>
                    <property name="nativeName">tr_price</property>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">jine</property>
                    <property name="nativeName">jine</property>
                    <property name="dataType">decimal</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[select  gppw.tr_part as tr_part,gppw.tr_serial as tr_serial,gppw.tr_qty_chg as tr_qty_chg , gppx.tr_price as tr_price,(gppw.tr_qty_chg * gppx.tr_price) as jine  from (
	select tr_part,tr_serial, sum(tr_qty_chg) as tr_qty_chg from(
		select * from tr_hist where tr_type in ('RCT-PO','RCT-UNP') and tr_part=? and tr_effdate>=? and tr_effdate<=? 
	) as gppa group by tr_part,tr_serial
) as gppw
left join
(
	select gppu.tr_part,gppu.tr_serial,gppv.tr_price from(
		select tr_part,tr_serial,min(tr_trnbr) as tr_trnbr from (
			select tr_part,tr_serial,tr_trnbr  from tr_hist where tr_qty_chg<>0 and tr_type in ('RCT-PO','RCT-UNP') --and tr_part='1200LDCT4R16' -- and tr_effdate<='2010-01-01 00:00:00'
		) as bec group by tr_part,tr_serial
	) as gppu
	left join
	tr_hist as gppv
	on gppu.tr_trnbr = gppv.tr_trnbr
) as gppx 
on gppw.tr_part = gppx.tr_part and gppw.tr_serial = gppx.tr_serial  
where gppw.tr_qty_chg<>0
order by gppw.tr_part,gppw.tr_serial]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="part_inv_out" id="48">
            <list-property name="parameters">
                <structure>
                    <property name="name">param_tr_part</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <expression name="defaultValue" type="javascript">'24514600'</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_tr_effdate</property>
                    <property name="paramName">tr_effdate</property>
                    <property name="dataType">date</property>
                    <property name="position">2</property>
                    <expression name="defaultValue" type="javascript">'2008-01-01'</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_tr_effdate2</property>
                    <property name="paramName">tr_effdate2</property>
                    <property name="dataType">date</property>
                    <property name="position">3</property>
                    <expression name="defaultValue" type="javascript">'2010-12-31'</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">tr_part</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">tr_serial</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">tr_qty_chg</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">tr_price</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">jine</property>
                        <property name="dataType">decimal</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">mfgprod</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">tr_part</property>
                    <property name="nativeName">tr_part</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">tr_serial</property>
                    <property name="nativeName">tr_serial</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">tr_qty_chg</property>
                    <property name="nativeName">tr_qty_chg</property>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">tr_price</property>
                    <property name="nativeName">tr_price</property>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">jine</property>
                    <property name="nativeName">jine</property>
                    <property name="dataType">decimal</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[
select gppw.tr_part as tr_part,gppw.tr_serial as tr_serial,gppw.tr_qty_chg as tr_qty_chg , gppx.tr_price as tr_price,(gppw.tr_qty_chg * gppx.tr_price) as jine  from(	
	select tr_part,tr_serial, sum(tr_qty_chg) as tr_qty_chg from(
		select * from tr_hist where tr_type in ('ISS-WO','ISS-UNP') and tr_part=?  and  tr_effdate>=? and tr_effdate<=?
	) as gppa group by tr_part,tr_serial
) as gppw
left join
(
	select gppu.tr_part,gppu.tr_serial,gppv.tr_price from(
		select tr_part,tr_serial,min(tr_trnbr) as tr_trnbr from (
			select tr_part,tr_serial,tr_trnbr  from tr_hist where tr_qty_chg<>0 and tr_type in ('RCT-PO','RCT-UNP')
		) as bec group by tr_part,tr_serial
	) as gppu
	left join
	tr_hist as gppv
	on gppu.tr_trnbr = gppv.tr_trnbr
) as gppx 
on gppw.tr_part = gppx.tr_part and gppw.tr_serial = gppx.tr_serial  
where gppw.tr_qty_chg<>0
order by gppw.tr_part,gppw.tr_serial]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="pt_mstr" id="49">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">pt_part</property>
                    <text-property name="displayName">pt_part</text-property>
                </structure>
                <structure>
                    <property name="columnName">pt_part_type</property>
                    <text-property name="displayName">pt_part_type</text-property>
                </structure>
                <structure>
                    <property name="columnName">pt_desc1</property>
                    <text-property name="displayName">pt_desc1</text-property>
                </structure>
                <structure>
                    <property name="columnName">pt_um</property>
                    <text-property name="displayName">pt_um</text-property>
                </structure>
            </list-property>
            <list-property name="parameters">
                <structure>
                    <property name="name">param_domain</property>
                    <property name="paramName">domain</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <expression name="defaultValue" type="javascript">'keer'</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_pt_part_type</property>
                    <property name="paramName">part_type</property>
                    <property name="dataType">string</property>
                    <property name="position">2</property>
                    <expression name="defaultValue" type="javascript">''</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_pt_part_type2</property>
                    <property name="paramName">part_type2</property>
                    <property name="dataType">string</property>
                    <property name="position">3</property>
                    <expression name="defaultValue" type="javascript">''</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_pt_prod_line</property>
                    <property name="paramName">prod_line</property>
                    <property name="dataType">string</property>
                    <property name="position">4</property>
                    <expression name="defaultValue" type="javascript">3000</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_pt_prod_line2</property>
                    <property name="paramName">prod_line2</property>
                    <property name="dataType">string</property>
                    <property name="position">5</property>
                    <expression name="defaultValue" type="javascript">3000</expression>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">pt_part</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">pt_part_type</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">pt_desc1</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">pt_um</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">mfgprod</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">pt_part</property>
                    <property name="nativeName">pt_part</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">pt_part_type</property>
                    <property name="nativeName">pt_part_type</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">pt_desc1</property>
                    <property name="nativeName">pt_desc1</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">pt_um</property>
                    <property name="nativeName">pt_um</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[select pt_part,pt_part_type,pt_desc1,pt_um from pt_mstr
where pt_domain=?
and pt_part_type>=?
and pt_part_type<=?
and pt_prod_line>=?
and pt_prod_line<=?
]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="pt_mstr_c" id="692">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">pt_part</property>
                    <text-property name="displayName">pt_part</text-property>
                </structure>
                <structure>
                    <property name="columnName">pt_desc1</property>
                    <text-property name="displayName">pt_desc1</text-property>
                </structure>
            </list-property>
            <list-property name="parameters">
                <structure>
                    <property name="name">param_pt_domain</property>
                    <property name="paramName">domain</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">pt_part</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">pt_desc1</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">mfgprod</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">pt_part</property>
                    <property name="nativeName">pt_part</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">pt_desc1</property>
                    <property name="nativeName">pt_desc1</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[select pt_part,pt_desc1 from pt_mstr 
where pt_domain = ?]]></xml-property>
        </oda-data-set>
    </data-sets>
    <styles>
        <style name="report" id="4">
            <property name="fontFamily">sans-serif</property>
            <property name="fontSize">10pt</property>
        </style>
        <style name="crosstab-cell" id="5">
            <property name="borderBottomColor">#CCCCCC</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">1pt</property>
            <property name="borderLeftColor">#CCCCCC</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">1pt</property>
            <property name="borderRightColor">#CCCCCC</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">1pt</property>
            <property name="borderTopColor">#CCCCCC</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">1pt</property>
        </style>
        <style name="crosstab" id="6">
            <property name="borderBottomColor">#CCCCCC</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">1pt</property>
            <property name="borderLeftColor">#CCCCCC</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">1pt</property>
            <property name="borderRightColor">#CCCCCC</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">1pt</property>
            <property name="borderTopColor">#CCCCCC</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">1pt</property>
        </style>
    </styles>
    <page-setup>
        <simple-master-page name="Simple MasterPage" id="2">
            <property name="type">custom</property>
            <property name="height">400in</property>
            <property name="width">1800px</property>
            <page-footer>
                <text id="3">
                    <property name="contentType">html</property>
                    <text-property name="content"><![CDATA[<value-of>new Date()</value-of>]]></text-property>
                </text>
            </page-footer>
        </simple-master-page>
    </page-setup>
    <body>
        <label id="71">
            <property name="fontFamily">sans-serif</property>
            <property name="fontSize">24pt</property>
            <property name="fontWeight">bold</property>
            <property name="textUnderline">underline</property>
            <property name="textAlign">center</property>
            <text-property name="text">物资库存盘点表</text-property>
        </label>
        <label id="310">
            <property name="fontFamily">sans-serif</property>
            <property name="fontSize">24pt</property>
            <property name="fontWeight">bold</property>
            <property name="textUnderline">underline</property>
            <property name="textAlign">center</property>
            <text-property name="text">柳州科尔数字化制造技术有限公司</text-property>
        </label>
        <table id="311">
            <property name="width">17.645833333333332in</property>
            <property name="dataSet">pt_mstr</property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">pt_part</property>
                    <expression name="expression" type="javascript">dataSetRow["pt_part"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">pt_part_type</property>
                    <expression name="expression" type="javascript">'物料类：' + dataSetRow["pt_part_type"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">pt_desc1</property>
                    <expression name="expression" type="javascript">dataSetRow["pt_desc1"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">pt_um</property>
                    <expression name="expression" type="javascript">dataSetRow["pt_um"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">part_count</property>
                    <expression name="expression" type="javascript">part_count++;&#13;
part_count</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">part_jine_sum1</property>
                    <expression name="expression" type="javascript">vars["rv_jine_sum1"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">print_date</property>
                    <text-property name="displayName">打印日期</text-property>
                    <expression name="expression" type="javascript">var nowdate = getnowdate();&#13;
&#13;
function getnowdate(){ &#13;
	var today = new Date();&#13;
	var day   = today.getDate();                  &#13;
	var month = today.getMonth() + 1;&#13;
	var year  = today.getFullYear();   &#13;
	month     = month&lt;10?"0"+month:month;      &#13;
	day       = day&lt;10?"0"+day:day;&#13;
	var date  = year + "年" + month + "月" + day+"日";&#13;
return date;&#13;
}&#13;
&#13;
'打印日期：'+nowdate</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">jine_sum1</property>
                    <text-property name="displayName">金额小计</text-property>
                    <expression name="expression" type="javascript">vars["rv_jine_sum1"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">jine_sum2</property>
                    <text-property name="displayName">金额小计</text-property>
                    <expression name="expression" type="javascript">vars["rv_jine_sum2"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">jine_sum3</property>
                    <text-property name="displayName">金额小计</text-property>
                    <expression name="expression" type="javascript">vars["rv_jine_sum3"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">jine_sum4</property>
                    <text-property name="displayName">金额小计</text-property>
                    <expression name="expression" type="javascript">vars["rv_jine_sum4"]</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <column id="345">
                <property name="width">0.3229166666666667in</property>
            </column>
            <column id="346">
                <property name="width">1.4791666666666667in</property>
            </column>
            <column id="347">
                <property name="width">1.9375in</property>
            </column>
            <column id="348">
                <property name="width">0.2916666666666667in</property>
            </column>
            <column id="349">
                <property name="width">3.34375in</property>
            </column>
            <column id="352">
                <property name="width">3.3854166666666665in</property>
            </column>
            <column id="353">
                <property name="width">3.40625in</property>
            </column>
            <column id="354">
                <property name="width">3.4166666666666665in</property>
            </column>
            <header>
                <row id="312">
                    <cell id="313"/>
                    <cell id="314"/>
                    <cell id="315"/>
                    <cell id="316"/>
                    <cell id="317"/>
                    <cell id="320"/>
                    <cell id="321"/>
                    <cell id="322"/>
                </row>
            </header>
            <group id="355">
                <property name="groupName">物料类分组</property>
                <property name="interval">none</property>
                <property name="sortDirection">asc</property>
                <expression name="keyExpr" type="javascript">row["pt_part_type"]</expression>
                <structure name="toc">
                    <expression name="expressionValue" type="javascript">row["pt_part_type"]</expression>
                </structure>
                <property name="repeatHeader">true</property>
                <property name="hideDetail">false</property>
                <property name="pageBreakAfter">auto</property>
                <property name="pageBreakBefore">auto</property>
                <property name="pageBreakInside">auto</property>
                <header>
                    <row id="356">
                        <property name="fontSize">12pt</property>
                        <property name="fontWeight">bold</property>
                        <cell id="357">
                            <property name="colSpan">2</property>
                            <property name="rowSpan">1</property>
                            <data id="378">
                                <property name="resultSetColumn">pt_part_type</property>
                            </data>
                        </cell>
                        <cell id="359"/>
                        <cell id="360"/>
                        <cell id="361"/>
                        <cell id="364"/>
                        <cell id="365"/>
                        <cell id="366">
                            <data id="620">
                                <property name="resultSetColumn">print_date</property>
                            </data>
                        </cell>
                    </row>
                    <row id="411">
                        <property name="fontWeight">bold</property>
                        <property name="textAlign">center</property>
                        <property name="verticalAlign">middle</property>
                        <cell id="412">
                            <property name="borderBottomColor">#000000</property>
                            <property name="borderBottomStyle">solid</property>
                            <property name="borderBottomWidth">1px</property>
                            <property name="borderLeftColor">#000000</property>
                            <property name="borderLeftStyle">solid</property>
                            <property name="borderLeftWidth">1px</property>
                            <property name="borderRightColor">#000000</property>
                            <property name="borderRightStyle">solid</property>
                            <property name="borderRightWidth">1px</property>
                            <property name="borderTopColor">#000000</property>
                            <property name="borderTopStyle">solid</property>
                            <property name="borderTopWidth">1px</property>
                            <label id="422">
                                <text-property name="text">序号</text-property>
                            </label>
                        </cell>
                        <cell id="413">
                            <property name="borderBottomColor">#000000</property>
                            <property name="borderBottomStyle">solid</property>
                            <property name="borderBottomWidth">1px</property>
                            <property name="borderLeftColor">#000000</property>
                            <property name="borderLeftStyle">solid</property>
                            <property name="borderLeftWidth">1px</property>
                            <property name="borderRightColor">#000000</property>
                            <property name="borderRightStyle">solid</property>
                            <property name="borderRightWidth">1px</property>
                            <property name="borderTopColor">#000000</property>
                            <property name="borderTopStyle">solid</property>
                            <property name="borderTopWidth">1px</property>
                            <label id="423">
                                <text-property name="text">物料编码</text-property>
                            </label>
                        </cell>
                        <cell id="414">
                            <property name="borderBottomColor">#000000</property>
                            <property name="borderBottomStyle">solid</property>
                            <property name="borderBottomWidth">1px</property>
                            <property name="borderLeftColor">#000000</property>
                            <property name="borderLeftStyle">solid</property>
                            <property name="borderLeftWidth">1px</property>
                            <property name="borderRightColor">#000000</property>
                            <property name="borderRightStyle">solid</property>
                            <property name="borderRightWidth">1px</property>
                            <property name="borderTopColor">#000000</property>
                            <property name="borderTopStyle">solid</property>
                            <property name="borderTopWidth">1px</property>
                            <label id="424">
                                <text-property name="text">物料名称</text-property>
                            </label>
                        </cell>
                        <cell id="415">
                            <property name="borderBottomColor">#000000</property>
                            <property name="borderBottomStyle">solid</property>
                            <property name="borderBottomWidth">1px</property>
                            <property name="borderLeftColor">#000000</property>
                            <property name="borderLeftStyle">solid</property>
                            <property name="borderLeftWidth">1px</property>
                            <property name="borderRightColor">#000000</property>
                            <property name="borderRightStyle">solid</property>
                            <property name="borderRightWidth">1px</property>
                            <property name="borderTopColor">#000000</property>
                            <property name="borderTopStyle">solid</property>
                            <property name="borderTopWidth">1px</property>
                            <label id="425">
                                <text-property name="text">单位</text-property>
                            </label>
                        </cell>
                        <cell id="416">
                            <property name="borderBottomColor">#000000</property>
                            <property name="borderBottomStyle">solid</property>
                            <property name="borderBottomWidth">1px</property>
                            <property name="borderLeftColor">#000000</property>
                            <property name="borderLeftStyle">solid</property>
                            <property name="borderLeftWidth">1px</property>
                            <property name="borderRightColor">#000000</property>
                            <property name="borderRightStyle">solid</property>
                            <property name="borderRightWidth">1px</property>
                            <property name="borderTopColor">#000000</property>
                            <property name="borderTopStyle">solid</property>
                            <property name="borderTopWidth">1px</property>
                            <grid id="426">
                                <property name="width">3.3020833333333335in</property>
                                <column id="427">
                                    <property name="width">0.9375in</property>
                                </column>
                                <column id="428">
                                    <property name="width">0.8229166666666666in</property>
                                </column>
                                <column id="429">
                                    <property name="width">0.7291666666666666in</property>
                                </column>
                                <column id="430">
                                    <property name="width">0.8125in</property>
                                </column>
                                <row id="431">
                                    <cell id="432">
                                        <property name="colSpan">4</property>
                                        <property name="rowSpan">1</property>
                                        <label id="441">
                                            <text-property name="text">上月结存</text-property>
                                        </label>
                                    </cell>
                                </row>
                                <row id="436">
                                    <cell id="437">
                                        <label id="442">
                                            <text-property name="text">批号</text-property>
                                        </label>
                                    </cell>
                                    <cell id="438">
                                        <label id="443">
                                            <text-property name="text">单价</text-property>
                                        </label>
                                    </cell>
                                    <cell id="439">
                                        <label id="444">
                                            <text-property name="text">数量</text-property>
                                        </label>
                                    </cell>
                                    <cell id="440">
                                        <label id="445">
                                            <text-property name="text">金额</text-property>
                                        </label>
                                    </cell>
                                </row>
                            </grid>
                        </cell>
                        <cell id="419">
                            <property name="borderBottomColor">#000000</property>
                            <property name="borderBottomStyle">solid</property>
                            <property name="borderBottomWidth">1px</property>
                            <property name="borderLeftColor">#000000</property>
                            <property name="borderLeftStyle">solid</property>
                            <property name="borderLeftWidth">1px</property>
                            <property name="borderRightColor">#000000</property>
                            <property name="borderRightStyle">solid</property>
                            <property name="borderRightWidth">1px</property>
                            <property name="borderTopColor">#000000</property>
                            <property name="borderTopStyle">solid</property>
                            <property name="borderTopWidth">1px</property>
                            <grid id="474">
                                <property name="width">3.3020833333333335in</property>
                                <column id="475">
                                    <property name="width">0.9375in</property>
                                </column>
                                <column id="476">
                                    <property name="width">0.8229166666666666in</property>
                                </column>
                                <column id="477">
                                    <property name="width">0.7291666666666666in</property>
                                </column>
                                <column id="478">
                                    <property name="width">0.8125in</property>
                                </column>
                                <row id="479">
                                    <cell id="480">
                                        <property name="colSpan">4</property>
                                        <property name="rowSpan">1</property>
                                        <label id="481">
                                            <text-property name="text">本月入库</text-property>
                                        </label>
                                    </cell>
                                </row>
                                <row id="482">
                                    <cell id="483">
                                        <label id="484">
                                            <text-property name="text">批号</text-property>
                                        </label>
                                    </cell>
                                    <cell id="485">
                                        <label id="486">
                                            <text-property name="text">单价</text-property>
                                        </label>
                                    </cell>
                                    <cell id="487">
                                        <label id="488">
                                            <text-property name="text">数量</text-property>
                                        </label>
                                    </cell>
                                    <cell id="489">
                                        <label id="490">
                                            <text-property name="text">金额</text-property>
                                        </label>
                                    </cell>
                                </row>
                            </grid>
                        </cell>
                        <cell id="420">
                            <property name="borderBottomColor">#000000</property>
                            <property name="borderBottomStyle">solid</property>
                            <property name="borderBottomWidth">1px</property>
                            <property name="borderLeftColor">#000000</property>
                            <property name="borderLeftStyle">solid</property>
                            <property name="borderLeftWidth">1px</property>
                            <property name="borderRightColor">#000000</property>
                            <property name="borderRightStyle">solid</property>
                            <property name="borderRightWidth">1px</property>
                            <property name="borderTopColor">#000000</property>
                            <property name="borderTopStyle">solid</property>
                            <property name="borderTopWidth">1px</property>
                            <grid id="491">
                                <property name="width">3.3020833333333335in</property>
                                <column id="492">
                                    <property name="width">0.9375in</property>
                                </column>
                                <column id="493">
                                    <property name="width">0.8229166666666666in</property>
                                </column>
                                <column id="494">
                                    <property name="width">0.7291666666666666in</property>
                                </column>
                                <column id="495">
                                    <property name="width">0.8125in</property>
                                </column>
                                <row id="496">
                                    <cell id="497">
                                        <property name="colSpan">4</property>
                                        <property name="rowSpan">1</property>
                                        <label id="498">
                                            <text-property name="text">本月消耗</text-property>
                                        </label>
                                    </cell>
                                </row>
                                <row id="499">
                                    <cell id="500">
                                        <label id="501">
                                            <text-property name="text">批号</text-property>
                                        </label>
                                    </cell>
                                    <cell id="502">
                                        <label id="503">
                                            <text-property name="text">单价</text-property>
                                        </label>
                                    </cell>
                                    <cell id="504">
                                        <label id="505">
                                            <text-property name="text">数量</text-property>
                                        </label>
                                    </cell>
                                    <cell id="506">
                                        <label id="507">
                                            <text-property name="text">金额</text-property>
                                        </label>
                                    </cell>
                                </row>
                            </grid>
                        </cell>
                        <cell id="421">
                            <property name="borderBottomColor">#000000</property>
                            <property name="borderBottomStyle">solid</property>
                            <property name="borderBottomWidth">1px</property>
                            <property name="borderLeftColor">#000000</property>
                            <property name="borderLeftStyle">solid</property>
                            <property name="borderLeftWidth">1px</property>
                            <property name="borderRightColor">#000000</property>
                            <property name="borderRightStyle">solid</property>
                            <property name="borderRightWidth">1px</property>
                            <property name="borderTopColor">#000000</property>
                            <property name="borderTopStyle">solid</property>
                            <property name="borderTopWidth">1px</property>
                            <grid id="508">
                                <property name="width">3.3020833333333335in</property>
                                <column id="509">
                                    <property name="width">0.9375in</property>
                                </column>
                                <column id="510">
                                    <property name="width">0.8229166666666666in</property>
                                </column>
                                <column id="511">
                                    <property name="width">0.7291666666666666in</property>
                                </column>
                                <column id="512">
                                    <property name="width">0.8125in</property>
                                </column>
                                <row id="513">
                                    <cell id="514">
                                        <property name="colSpan">4</property>
                                        <property name="rowSpan">1</property>
                                        <label id="515">
                                            <text-property name="text">本月结存</text-property>
                                        </label>
                                    </cell>
                                </row>
                                <row id="516">
                                    <cell id="517">
                                        <label id="518">
                                            <text-property name="text">批号</text-property>
                                        </label>
                                    </cell>
                                    <cell id="519">
                                        <label id="520">
                                            <text-property name="text">单价</text-property>
                                        </label>
                                    </cell>
                                    <cell id="521">
                                        <label id="522">
                                            <text-property name="text">数量</text-property>
                                        </label>
                                    </cell>
                                    <cell id="523">
                                        <label id="524">
                                            <text-property name="text">金额</text-property>
                                        </label>
                                    </cell>
                                </row>
                            </grid>
                        </cell>
                    </row>
                </header>
                <footer>
                    <row id="367">
                        <cell id="368"/>
                        <cell id="369"/>
                        <cell id="370">
                            <label id="621">
                                <property name="textAlign">right</property>
                                <text-property name="text">金额小计：</text-property>
                            </label>
                        </cell>
                        <cell id="371"/>
                        <cell id="372">
                            <grid id="622">
                                <property name="width">3.3958333333333335in</property>
                                <column id="623">
                                    <property name="width">0.8541666666666666in</property>
                                </column>
                                <column id="624">
                                    <property name="width">0.8541666666666666in</property>
                                </column>
                                <column id="625">
                                    <property name="width">0.5729166666666666in</property>
                                </column>
                                <column id="626">
                                    <property name="width">1.1145833333333333in</property>
                                </column>
                                <row id="627">
                                    <cell id="628">
                                        <property name="colSpan">3</property>
                                        <property name="rowSpan">1</property>
                                    </cell>
                                    <cell id="631">
                                        <data id="611">
                                            <property name="resultSetColumn">jine_sum1</property>
                                        </data>
                                    </cell>
                                </row>
                            </grid>
                        </cell>
                        <cell id="375">
                            <grid id="659">
                                <property name="width">3.3854166666666665in</property>
                                <column id="660">
                                    <property name="width">0.8541666666666666in</property>
                                </column>
                                <column id="661">
                                    <property name="width">0.84375in</property>
                                </column>
                                <column id="662">
                                    <property name="width">0.6979166666666666in</property>
                                </column>
                                <column id="663">
                                    <property name="width">0.9895833333333334in</property>
                                </column>
                                <row id="664">
                                    <cell id="665"/>
                                    <cell id="666"/>
                                    <cell id="667"/>
                                    <cell id="668">
                                        <data id="689">
                                            <property name="resultSetColumn">jine_sum2</property>
                                        </data>
                                    </cell>
                                </row>
                            </grid>
                        </cell>
                        <cell id="376">
                            <grid id="669">
                                <property name="width">3.3645833333333335in</property>
                                <column id="670">
                                    <property name="width">0.84375in</property>
                                </column>
                                <column id="671">
                                    <property name="width">0.84375in</property>
                                </column>
                                <column id="672">
                                    <property name="width">0.5208333333333334in</property>
                                </column>
                                <column id="673">
                                    <property name="width">1.15625in</property>
                                </column>
                                <row id="674">
                                    <cell id="675"/>
                                    <cell id="676"/>
                                    <cell id="677"/>
                                    <cell id="678">
                                        <data id="690">
                                            <property name="resultSetColumn">jine_sum3</property>
                                        </data>
                                    </cell>
                                </row>
                            </grid>
                        </cell>
                        <cell id="377">
                            <grid id="679">
                                <property name="width">3.4270833333333335in</property>
                                <column id="680">
                                    <property name="width">0.8645833333333334in</property>
                                </column>
                                <column id="681">
                                    <property name="width">0.8541666666666666in</property>
                                </column>
                                <column id="682">
                                    <property name="width">0.78125in</property>
                                </column>
                                <column id="683">
                                    <property name="width">0.9270833333333334in</property>
                                </column>
                                <row id="684">
                                    <cell id="685"/>
                                    <cell id="686"/>
                                    <cell id="687"/>
                                    <cell id="688">
                                        <data id="691">
                                            <property name="resultSetColumn">jine_sum4</property>
                                        </data>
                                    </cell>
                                </row>
                            </grid>
                        </cell>
                    </row>
                </footer>
            </group>
            <detail>
                <row id="323">
                    <cell id="324">
                        <property name="borderBottomColor">#000000</property>
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">1px</property>
                        <property name="borderLeftColor">#000000</property>
                        <property name="borderLeftStyle">solid</property>
                        <property name="borderLeftWidth">1px</property>
                        <property name="borderRightColor">#000000</property>
                        <property name="borderRightStyle">solid</property>
                        <property name="borderRightWidth">1px</property>
                        <property name="borderTopColor">#000000</property>
                        <property name="borderTopStyle">solid</property>
                        <property name="borderTopWidth">1px</property>
                        <data id="410">
                            <property name="resultSetColumn">part_count</property>
                        </data>
                    </cell>
                    <cell id="325">
                        <property name="borderBottomColor">#000000</property>
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">1px</property>
                        <property name="borderLeftColor">#000000</property>
                        <property name="borderLeftStyle">solid</property>
                        <property name="borderLeftWidth">1px</property>
                        <property name="borderRightColor">#000000</property>
                        <property name="borderRightStyle">solid</property>
                        <property name="borderRightWidth">1px</property>
                        <property name="borderTopColor">#000000</property>
                        <property name="borderTopStyle">solid</property>
                        <property name="borderTopWidth">1px</property>
                        <data id="380">
                            <property name="resultSetColumn">pt_part</property>
                        </data>
                    </cell>
                    <cell id="326">
                        <property name="borderBottomColor">#000000</property>
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">1px</property>
                        <property name="borderLeftColor">#000000</property>
                        <property name="borderLeftStyle">solid</property>
                        <property name="borderLeftWidth">1px</property>
                        <property name="borderRightColor">#000000</property>
                        <property name="borderRightStyle">solid</property>
                        <property name="borderRightWidth">1px</property>
                        <property name="borderTopColor">#000000</property>
                        <property name="borderTopStyle">solid</property>
                        <property name="borderTopWidth">1px</property>
                        <data id="382">
                            <property name="resultSetColumn">pt_desc1</property>
                        </data>
                    </cell>
                    <cell id="327">
                        <property name="borderBottomColor">#000000</property>
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">1px</property>
                        <property name="borderLeftColor">#000000</property>
                        <property name="borderLeftStyle">solid</property>
                        <property name="borderLeftWidth">1px</property>
                        <property name="borderRightColor">#000000</property>
                        <property name="borderRightStyle">solid</property>
                        <property name="borderRightWidth">1px</property>
                        <property name="borderTopColor">#000000</property>
                        <property name="borderTopStyle">solid</property>
                        <property name="borderTopWidth">1px</property>
                        <data id="384">
                            <property name="resultSetColumn">pt_um</property>
                        </data>
                    </cell>
                    <cell id="328">
                        <property name="borderBottomColor">#000000</property>
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">1px</property>
                        <property name="borderLeftColor">#000000</property>
                        <property name="borderLeftStyle">solid</property>
                        <property name="borderLeftWidth">1px</property>
                        <property name="borderRightColor">#000000</property>
                        <property name="borderRightStyle">solid</property>
                        <property name="borderRightWidth">1px</property>
                        <property name="borderTopColor">#000000</property>
                        <property name="borderTopStyle">solid</property>
                        <property name="borderTopWidth">1px</property>
                        <table id="446">
                            <property name="width">3.3229166666666665in</property>
                            <property name="dataSet">part_inv</property>
                            <list-property name="paramBindings">
                                <structure>
                                    <property name="paramName">param_tr_part</property>
                                    <expression name="expression" type="javascript">row["pt_part"]</expression>
                                </structure>
                            </list-property>
                            <list-property name="boundDataColumns">
                                <structure>
                                    <property name="name">tr_part</property>
                                    <expression name="expression" type="javascript">dataSetRow["tr_part"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">tr_serial</property>
                                    <expression name="expression" type="javascript">dataSetRow["tr_serial"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">tr_qty_chg</property>
                                    <expression name="expression" type="javascript">dataSetRow["tr_qty_chg"]</expression>
                                    <property name="dataType">decimal</property>
                                </structure>
                                <structure>
                                    <property name="name">tr_price</property>
                                    <expression name="expression" type="javascript">dataSetRow["tr_price"]</expression>
                                    <property name="dataType">decimal</property>
                                </structure>
                                <structure>
                                    <property name="name">jine</property>
                                    <expression name="expression" type="javascript">vars["rv_jine_sum1"] = vars["rv_jine_sum1"] + dataSetRow["jine"];&#13;
dataSetRow["jine"]</expression>
                                    <property name="dataType">decimal</property>
                                </structure>
                            </list-property>
                            <column id="462">
                                <property name="width">0.9375in</property>
                                <property name="textAlign">left</property>
                            </column>
                            <column id="463">
                                <property name="width">0.8229166666666666in</property>
                            </column>
                            <column id="464">
                                <property name="width">0.7291666666666666in</property>
                            </column>
                            <column id="465">
                                <property name="width">0.8333333333333334in</property>
                            </column>
                            <detail>
                                <row id="452">
                                    <property name="textAlign">center</property>
                                    <cell id="453">
                                        <data id="467">
                                            <property name="resultSetColumn">tr_serial</property>
                                        </data>
                                    </cell>
                                    <cell id="454">
                                        <data id="469">
                                            <property name="resultSetColumn">tr_price</property>
                                        </data>
                                    </cell>
                                    <cell id="455">
                                        <data id="471">
                                            <property name="resultSetColumn">tr_qty_chg</property>
                                        </data>
                                    </cell>
                                    <cell id="456">
                                        <data id="473">
                                            <property name="resultSetColumn">jine</property>
                                        </data>
                                    </cell>
                                </row>
                            </detail>
                            <footer>
                                <row id="457">
                                    <cell id="458"/>
                                    <cell id="459"/>
                                    <cell id="460"/>
                                    <cell id="461"/>
                                </row>
                            </footer>
                        </table>
                    </cell>
                    <cell id="331">
                        <property name="borderBottomColor">#000000</property>
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">1px</property>
                        <property name="borderLeftColor">#000000</property>
                        <property name="borderLeftStyle">solid</property>
                        <property name="borderLeftWidth">1px</property>
                        <property name="borderRightColor">#000000</property>
                        <property name="borderRightStyle">solid</property>
                        <property name="borderRightWidth">1px</property>
                        <property name="borderTopColor">#000000</property>
                        <property name="borderTopStyle">solid</property>
                        <property name="borderTopWidth">1px</property>
                        <table id="525">
                            <property name="width">3.3125in</property>
                            <property name="dataSet">part_inv_in</property>
                            <list-property name="paramBindings">
                                <structure>
                                    <property name="paramName">param_tr_part</property>
                                    <expression name="expression" type="javascript">row["pt_part"]</expression>
                                </structure>
                            </list-property>
                            <list-property name="boundDataColumns">
                                <structure>
                                    <property name="name">tr_part</property>
                                    <expression name="expression" type="javascript">dataSetRow["tr_part"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">tr_serial</property>
                                    <expression name="expression" type="javascript">dataSetRow["tr_serial"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">tr_qty_chg</property>
                                    <expression name="expression" type="javascript">dataSetRow["tr_qty_chg"]</expression>
                                    <property name="dataType">decimal</property>
                                </structure>
                                <structure>
                                    <property name="name">tr_price</property>
                                    <expression name="expression" type="javascript">dataSetRow["tr_price"]</expression>
                                    <property name="dataType">decimal</property>
                                </structure>
                                <structure>
                                    <property name="name">jine</property>
                                    <expression name="expression" type="javascript">vars["rv_jine_sum2"] = vars["rv_jine_sum2"] + dataSetRow["jine"];&#13;
dataSetRow["jine"]</expression>
                                    <property name="dataType">decimal</property>
                                </structure>
                            </list-property>
                            <column id="541">
                                <property name="width">0.9375in</property>
                                <property name="textAlign">left</property>
                            </column>
                            <column id="542">
                                <property name="width">0.8229166666666666in</property>
                            </column>
                            <column id="543">
                                <property name="width">0.7291666666666666in</property>
                            </column>
                            <column id="544">
                                <property name="width">0.8229166666666666in</property>
                            </column>
                            <detail>
                                <row id="531">
                                    <property name="textAlign">center</property>
                                    <cell id="532">
                                        <data id="546">
                                            <property name="resultSetColumn">tr_serial</property>
                                        </data>
                                    </cell>
                                    <cell id="533">
                                        <data id="550">
                                            <property name="resultSetColumn">tr_price</property>
                                        </data>
                                    </cell>
                                    <cell id="534">
                                        <data id="548">
                                            <property name="resultSetColumn">tr_qty_chg</property>
                                        </data>
                                    </cell>
                                    <cell id="535">
                                        <data id="552">
                                            <property name="resultSetColumn">jine</property>
                                        </data>
                                    </cell>
                                </row>
                            </detail>
                            <footer>
                                <row id="536">
                                    <cell id="537"/>
                                    <cell id="538"/>
                                    <cell id="539"/>
                                    <cell id="540"/>
                                </row>
                            </footer>
                        </table>
                    </cell>
                    <cell id="332">
                        <property name="borderBottomColor">#000000</property>
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">1px</property>
                        <property name="borderLeftColor">#000000</property>
                        <property name="borderLeftStyle">solid</property>
                        <property name="borderLeftWidth">1px</property>
                        <property name="borderRightColor">#000000</property>
                        <property name="borderRightStyle">solid</property>
                        <property name="borderRightWidth">1px</property>
                        <property name="borderTopColor">#000000</property>
                        <property name="borderTopStyle">solid</property>
                        <property name="borderTopWidth">1px</property>
                        <table id="553">
                            <property name="width">3.2916666666666665in</property>
                            <property name="dataSet">part_inv_out</property>
                            <list-property name="paramBindings">
                                <structure>
                                    <property name="paramName">param_tr_part</property>
                                    <expression name="expression" type="javascript">row["pt_part"]</expression>
                                </structure>
                            </list-property>
                            <list-property name="boundDataColumns">
                                <structure>
                                    <property name="name">tr_part</property>
                                    <expression name="expression" type="javascript">dataSetRow["tr_part"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">tr_serial</property>
                                    <expression name="expression" type="javascript">dataSetRow["tr_serial"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">tr_qty_chg</property>
                                    <expression name="expression" type="javascript">dataSetRow["tr_qty_chg"]</expression>
                                    <property name="dataType">decimal</property>
                                </structure>
                                <structure>
                                    <property name="name">tr_price</property>
                                    <expression name="expression" type="javascript">dataSetRow["tr_price"]</expression>
                                    <property name="dataType">decimal</property>
                                </structure>
                                <structure>
                                    <property name="name">jine</property>
                                    <expression name="expression" type="javascript">vars["rv_jine_sum3"] = vars["rv_jine_sum3"] + dataSetRow["jine"];&#13;
dataSetRow["jine"]</expression>
                                    <property name="dataType">decimal</property>
                                </structure>
                            </list-property>
                            <column id="569">
                                <property name="width">0.9375in</property>
                            </column>
                            <column id="570">
                                <property name="width">0.8333333333333334in</property>
                            </column>
                            <column id="571">
                                <property name="width">0.7291666666666666in</property>
                            </column>
                            <column id="572">
                                <property name="width">0.7916666666666666in</property>
                            </column>
                            <detail>
                                <row id="559">
                                    <cell id="560">
                                        <data id="574">
                                            <property name="resultSetColumn">tr_serial</property>
                                        </data>
                                    </cell>
                                    <cell id="561">
                                        <data id="576">
                                            <property name="resultSetColumn">tr_price</property>
                                        </data>
                                    </cell>
                                    <cell id="562">
                                        <data id="578">
                                            <property name="resultSetColumn">tr_qty_chg</property>
                                        </data>
                                    </cell>
                                    <cell id="563">
                                        <data id="580">
                                            <property name="resultSetColumn">jine</property>
                                        </data>
                                    </cell>
                                </row>
                            </detail>
                            <footer>
                                <row id="564">
                                    <cell id="565"/>
                                    <cell id="566"/>
                                    <cell id="567"/>
                                    <cell id="568"/>
                                </row>
                            </footer>
                        </table>
                    </cell>
                    <cell id="333">
                        <property name="borderBottomColor">#000000</property>
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">1px</property>
                        <property name="borderLeftColor">#000000</property>
                        <property name="borderLeftStyle">solid</property>
                        <property name="borderLeftWidth">1px</property>
                        <property name="borderRightColor">#000000</property>
                        <property name="borderRightStyle">solid</property>
                        <property name="borderRightWidth">1px</property>
                        <property name="borderTopColor">#000000</property>
                        <property name="borderTopStyle">solid</property>
                        <property name="borderTopWidth">1px</property>
                        <table id="581">
                            <property name="width">3.3541666666666665in</property>
                            <property name="dataSet">part_inv2</property>
                            <list-property name="paramBindings">
                                <structure>
                                    <property name="paramName">param_tr_part</property>
                                    <expression name="expression" type="javascript">row["pt_part"]</expression>
                                </structure>
                            </list-property>
                            <list-property name="boundDataColumns">
                                <structure>
                                    <property name="name">tr_part</property>
                                    <expression name="expression" type="javascript">dataSetRow["tr_part"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">tr_serial</property>
                                    <expression name="expression" type="javascript">dataSetRow["tr_serial"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">tr_qty_chg</property>
                                    <expression name="expression" type="javascript">dataSetRow["tr_qty_chg"]</expression>
                                    <property name="dataType">decimal</property>
                                </structure>
                                <structure>
                                    <property name="name">tr_price</property>
                                    <expression name="expression" type="javascript">dataSetRow["tr_price"]</expression>
                                    <property name="dataType">decimal</property>
                                </structure>
                                <structure>
                                    <property name="name">jine</property>
                                    <expression name="expression" type="javascript">vars["rv_jine_sum4"] = vars["rv_jine_sum4"] + dataSetRow["jine"];&#13;
dataSetRow["jine"]</expression>
                                    <property name="dataType">decimal</property>
                                </structure>
                            </list-property>
                            <column id="597">
                                <property name="width">0.9375in</property>
                            </column>
                            <column id="598">
                                <property name="width">0.8333333333333334in</property>
                            </column>
                            <column id="599">
                                <property name="width">0.75in</property>
                            </column>
                            <column id="600">
                                <property name="width">0.8333333333333334in</property>
                            </column>
                            <detail>
                                <row id="587">
                                    <cell id="588">
                                        <data id="602">
                                            <property name="resultSetColumn">tr_serial</property>
                                        </data>
                                    </cell>
                                    <cell id="589">
                                        <data id="604">
                                            <property name="resultSetColumn">tr_price</property>
                                        </data>
                                    </cell>
                                    <cell id="590">
                                        <data id="606">
                                            <property name="resultSetColumn">tr_qty_chg</property>
                                        </data>
                                    </cell>
                                    <cell id="591">
                                        <data id="608">
                                            <property name="resultSetColumn">jine</property>
                                        </data>
                                    </cell>
                                </row>
                            </detail>
                            <footer>
                                <row id="592">
                                    <cell id="593"/>
                                    <cell id="594"/>
                                    <cell id="595"/>
                                    <cell id="596"/>
                                </row>
                            </footer>
                        </table>
                    </cell>
                </row>
            </detail>
            <footer>
                <row id="334">
                    <cell id="335"/>
                    <cell id="336"/>
                    <cell id="337"/>
                    <cell id="338"/>
                    <cell id="339"/>
                    <cell id="342"/>
                    <cell id="343"/>
                    <cell id="344"/>
                </row>
            </footer>
        </table>
    </body>
    <property name="pageVariables">
        <variable-element name="rv_jine_sum1">
            <expression name="value" type="javascript">0</expression>
            <property name="type">report</property>
        </variable-element>
        <variable-element name="rv_jine_sum2">
            <expression name="value" type="javascript">0</expression>
            <property name="type">report</property>
        </variable-element>
        <variable-element name="rv_jine_sum3">
            <expression name="value" type="javascript">0</expression>
            <property name="type">report</property>
        </variable-element>
        <variable-element name="rv_jine_sum4">
            <expression name="value" type="javascript">4</expression>
            <property name="type">report</property>
        </variable-element>
    </property>
</report>
